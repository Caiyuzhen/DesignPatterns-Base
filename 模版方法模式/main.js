/*
	â˜•ï¸ğŸµã€æ¨¡ç‰ˆæ–¹æ³•æ¨¡å¼ã€‘
		æ ¹æ®ä¸€å¥—æ¨¡æ¿åˆ›é€ å‡ºä¸¤å¥—ç›¸ä¼¼çš„é¡µé¢ 
			æ¨¡æ¿å¯ä»¥æ˜¯ã€æŠ½è±¡çš„å…¬å…±æ–¹æ³•ã€‘æˆ–ã€å…¬å…±çš„æµç¨‹ã€‘, æ¯”å¦‚åœ¨çˆ¶ç±»å»å°è£…å­ç±»çš„ç®—æ³•æ¡†æ¶, åŒ…å«å…¬å…±æ–¹æ³•è·Ÿæ‰§è¡Œé¡ºåº, å­ç±»å»è°ƒç”¨å®ƒå¹¶ç»§æ‰¿æ•´ä¸ªç»“æ„
				æ¯”å¦‚: çƒ§æ°´ => å€’å…¥è°ƒæ–™ A => å€’å…¥è°ƒæ–™ B
					æ¯”å¦‚åšã€çƒ­å¥¶èŒ¶ã€‘è·Ÿã€åšå’–å•¡ã€‘

*/


// ğŸŒ°ä¾‹å­ä¸€(AB é¡µé¢ç»“æ„ä¸€æ ·, ä½†æ˜¯æ•°æ®ä¸ä¸€æ ·, é‚£ä¹ˆå¯ä»¥æŠŠ AB é¡µé¢æŠ½è±¡æˆä¸€ä¸ªå…¬å…±æ–¹æ³•, è®©å­ç±»ç»§æ‰¿, å­ç±»æä¾›æ•°æ®å³å¯): â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”

// ğŸ”¥ğŸ”¥æ¨¡æ‹ŸæŠ½è±¡çˆ¶ç±» (ä¹Ÿå°±æ˜¯æ¨¡æ¿æœ¬èº«)
const Container = function(params = {}) {//ğŸš€éœ€è¦ç»™ä¸ªå¯¹è±¡æ¥å­˜æ”¾ getData æ–¹æ³•ï¼!!
	let F = function() {}

	F.prototype.init = async function() { //ğŸ”¥å¼‚æ­¥è¯·æ±‚ä¹Ÿå¯ä»¥, async function
		// this.getData()
		let listData = await this.getData() //ğŸ”¥æ¥ä½å­ç±» getData() åè¿”å›çš„æ•°æ®ï¼
		this.render(listData)
	}

	// ğŸ”¥æŠ½è±¡æ–¹æ³•, éœ€è¦å­ç±»å»å®ç°ï¼ï¼ç”¨æ¥ä½“ç°é¡µé¢å†…æ•°æ®çš„å·®å¼‚!!!
	F.prototype.getData = params.getData || function() { //å®ä¾‹åŒ–æ—¶æœ‰ä¼ å…¥ getData çš„è¯, å°±æ‰§è¡Œä¼ å…¥çš„ getData æ–¹æ³•ï¼
		throw new Error('å¿…é¡»ä¼ å…¥ getData æ–¹æ³•')
	}

	// ğŸ”¥å…¬å…±æ–¹æ³•, éƒ½è¦å»æ¸²æŸ“
	F.prototype.render = function(listData) {
		console.log('æ¸²æŸ“è§†å›¾æ•°æ®:', listData)
	}

	return F
}




// ğŸ”¥ä¼ å…¥ A æ•°æ®
const PageA = Container({
	getData() { //ç›¸å½“äºåœ¨ç»§æ‰¿çˆ¶ç±»çš„åŸºç¡€ä¸Šå»é‡å†™ getData() æ–¹æ³•
		console.log('è·å– A é¡µé¢çš„æ•°æ®')
		return [1,2,3]
	}
})

new PageA().init()


// ğŸ”¥ä¼ å…¥ A æ•°æ®
const PageB = Container({
	getData() { //ç›¸å½“äºåœ¨ç»§æ‰¿çˆ¶ç±»çš„åŸºç¡€ä¸Šå»é‡å†™ getData() æ–¹æ³•
		console.log('è·å– A é¡µé¢çš„æ•°æ®')
		return [4,5,6]
	}
})

new PageB().init()
