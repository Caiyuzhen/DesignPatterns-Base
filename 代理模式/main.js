/*
	ã€ä»£ç†æ¨¡å¼ã€‘
		ä¸ºå…¶ä»–å¯¹è±¡æä¾›ä¸€ç§ä»£ç†ä»¥æ§åˆ¶å¯¹è¿™ä¸ªå¯¹è±¡çš„è®¿é—®
			è¢«ä»£ç†å¯¹è±¡å¯ä»¥æ˜¯ã€æ–‡ä»¶ã€èµ„æºã€å†…å­˜ä¸­çš„å¯¹è±¡ç­‰ç­‰ã€‘
*/

// ğŸŒ°ä¾‹å­ä¸€: â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
class Star {
	play() {
		console.log('ğŸŒŸ æ˜æ˜Ÿå¼€å§‹è¡¨æ¼” ~')
	}
}


class StarProxy { //ä»£ç†ç±»
	constructor () {
		this.superStar = new Star()
	}

	talk(price) {
		if(price > 8888) { 
			this.superStar.play() //âš¡ï¸ä»£ç† star å¯¹è±¡
		} else {
			throw new Error('ä»·æ ¼å¤ªä½')
		}
	}
}

const abc = new StarProxy().talk(99999) //æ˜æ˜Ÿå¼€å§‹è¡¨æ¼”





// ğŸŒ°ä¾‹å­äºŒ (proxy æ˜¯ ES6 çš„èƒ½åŠ›): â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
let star_2 = {
	name: 'Jimmy',
	workprice: 8888
}

let proxy = new Proxy(star_2, { //ğŸ”¥ğŸ”¥ä¸€ä¸ªæ‹¦æˆªçš„å‡½æ•°, å¦‚æœè¢«ä»£ç†å¯¹è±¡çš„å±æ€§è¢«ã€è®¿é—®ã€‘, å°±ä¼šè§¦å‘ get æ–¹æ³•, å¦‚æœè¢«ä»£ç†å¯¹è±¡çš„å±æ€§è¢«ã€ä¿®æ”¹ã€‘, å°±ä¼šè§¦å‘ set æ–¹æ³•
	get(target, key) {
		if(key === 'workprice') {
			console.log('è¢«ä»£ç†çš„å¯¹è±¡çš„ workprice å±æ€§è¢«è®¿é—®äº†')
		}
		return target[key]
	},

	set(target, key, value) {
		if(key === 'workprice') {
			console.log('è¢«ä»£ç†çš„å¯¹è±¡è¢«ä¿®æ”¹äº†')

			if(value > 8888) { 
				this.superStar.play() //âš¡ï¸ä»£ç† star å¯¹è±¡
			} else {
				throw new Error('ä»·æ ¼å¤ªä½')
			}
		}
	}
})

console.log(proxy.workprice) //è¢«ä»£ç†çš„å¯¹è±¡è¢«è®¿é—®äº†
proxy.name = 'Tom' //è¢«ä»£ç†çš„å¯¹è±¡è¢«ä¿®æ”¹äº†




// ğŸŒ°ä¾‹å­ä¸‰ï¼ˆVue å“åº”å¼æ¨¡æ¿æ¥æ“ä½œ DOM, åŸºäºæ•°æ®é©±åŠ¨æ¥æ›´æ–° DOM ï¼‰: â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
let vueObj = {

}

// å°è£…å¥½ä¸€ä¸ªæ“ä½œ DOM çš„åº“
let proxy_2 = new Proxy(vueObj, { //å¯¹æºå¯¹è±¡è¿›è¡Œä»£ç†
	get(target, key) {
		return target[key]
	},

	set(target, key, value) {
		if(key === 'data') {{ //å¦‚æœæ˜¯ä¿®æ”¹ å¯¹è±¡.data, å°±ä¼šè§¦å‘ set æ–¹æ³•
			//æ“ä½œ box è¿™ä¸ª DOM
			box.innerHTML = value
		}
			target[key] = value
		}
	}
})


proxy_2.data = '222'